cmake_minimum_required(VERSION 2.8)
project(ninja_reconfigure_destroy_test CXX)

if(NOT CMAKE_GENERATOR MATCHES "Ninja")
  message(FATAL_ERROR "CMAKE_GENERATOR is not set to Ninja!")
endif(NOT CMAKE_GENERATOR MATCHES "Ninja")

file(WRITE "test.cpp"
"int main()
{
  return 0;
}")

set(file_list
  test.cpp
    test_not_existing_file.cpp
#FIXME test_not_existing_file.cpp # <====== TODO: UNCOMMENT THIS LINE after first successfully build!
)

add_executable(test ${file_list})

